(()=>{const e=document.querySelector("#reset-button"),t=document.querySelector("#stat-toggle"),o=document.querySelector("#stats"),u=document.querySelector("#mod-toggle"),l=document.querySelector("#modifiers"),c=document.querySelector("#calc-toggle"),r=document.querySelector("#calc"),d=document.querySelector("#calc-button"),a=document.querySelector("#dot-toggle"),n=document.querySelector("#dot"),v=document.querySelector("#dot-button"),m=document.querySelector("#str"),s=document.querySelector("#dex"),i=document.querySelector("#int"),q=document.querySelector("#boost"),y=document.querySelector("#min-dmg"),S=document.querySelector("#max-dmg"),g=document.querySelector("#dmg"),$=document.querySelector("#base-dmg"),h=document.querySelector("#res"),x=document.querySelector("#dr"),p=document.querySelector("#hits"),F=document.querySelector("#crits"),L=document.querySelector("#dmg-total"),M=document.querySelector("#dph-avg"),k=document.querySelector("#dpc-avg"),E=document.querySelector("#exp-dmg"),I=document.querySelector("#percent-hit"),b=document.querySelector("#percent-total"),f=document.querySelector("#min-dot-dmg"),A=document.querySelector("#max-dot-dmg"),j=document.querySelector("#avg-dot-dmg"),w=document.querySelector("#exp-dot"),z=document.querySelector("#dot-tick"),B=document.querySelector("#dot-percent");let C,D,G,H,J,K;const N=()=>{let e=m.value;parseInt(s.value)>e&&(e=s.value),parseInt(i.value)>e&&(e=i.value),g.value=(parseInt(y.value)+parseInt(S.value))/2;const t=Math.floor(e/10);C=y.value-t,D=S.value-t,G=g.value-t,$.value=`${C} - ${D} (avg. ${G})`;const o=m.value/10,u=s.value/40,l=s.value/4,c=i.value/10;let r=1+o/100;r*=1+u/100,r*=1+q.value/100;let d=(100-h.value)/100;d*=(100-x.value)/100;const a=1+l/100,n=(100-h.value)/100;let v=1.75+c/100;v*=1+u/100,v*=1+q.value/100,H=r*d,J=a*n,K=v*d};t.addEventListener("click",(()=>{o.classList.toggle("is-hidden")})),u.addEventListener("click",(()=>{l.classList.toggle("is-hidden")})),c.addEventListener("click",(()=>{r.classList.toggle("is-hidden")})),a.addEventListener("click",(()=>{n.classList.toggle("is-hidden")})),d.addEventListener("click",(()=>{(()=>{N();const e=p.value-F.value,t=L.value/(e*H+F.value*K),o=t*H,u=t*K,l=y.value*H,c=S.value*H,r=g.value*H,d=o/c*100,a=o/l*100,n=o/r*100,v=d*p.value,m=a*p.value,s=n*p.value;M.value=o.toFixed(2),k.value=u.toFixed(2),E.value=`${Math.round(l)} - ${Math.round(c)} (avg. ${Math.round(r)})`,I.value=`${d.toFixed(2)}% - ${a.toFixed(2)}% (avg. ${n.toFixed(2)}%)`,b.value=`${v.toFixed(2)}% - ${m.toFixed(2)}% (avg. ${s.toFixed(2)}%)`})()})),v.addEventListener("click",(()=>{(()=>{N();const e=(parseInt(f.value)+parseInt(A.value))/2,t=C*J,o=D*J,u=G*J,l=f.value*J,c=A.value*J,r=e*J,d=l/u*100,a=c/u*100,n=r/u*100;j.value=e,w.value=`${Math.round(t)} - ${Math.round(o)} (avg. ${Math.round(u)})`,z.value=`${Math.round(l)} - ${Math.round(c)} (avg. ${Math.round(r)})`,B.value=`${d.toFixed(2)}% - ${a.toFixed(2)}% (avg. ${n.toFixed(2)}%)`})()})),e.addEventListener("click",(()=>{(()=>{const e=document.querySelectorAll("input");for(let t of e)t.value=0})()}))})();